import{_ as d}from"./Button.vue_vue_type_script_setup_true_lang-WZuXnU9A.js";import{d as c,o as r,e as i,w as u,k as p,u as m,v as f,a as n,p as y,x as h,c as _,n as l,b as g,l as v,M as C}from"./index-TCyWjmXV.js";const x=n("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"},null,-1),b=n("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"},null,-1),w=c({__name:"CopyIcon",setup(t){return(e,a)=>(r(),i(m(f),{"view-box":"0 0 1024 1024"},{default:u(()=>[x,b,p(" >")]),_:1}))}});function T(t){const e=document.createElement("textarea");return e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999",e.setAttribute("readonly",""),e.value=t,e}function k(t){const e=T(t);document.body.append(e),e.focus(),e.select();const a=document.execCommand("copy");return e.remove(),Promise.resolve(a)}function E(t){const e=navigator.clipboard;return e!=null?e.writeText(t).then(()=>{Promise.resolve(!0)}).catch(()=>Promise.resolve(!1)):Promise.resolve(!1)}function P(t){let e=null,a=null;if(typeof t=="string"&&(t.startsWith("#")||t.startsWith(".")?(a=document.querySelector(t),a==null&&(e=t)):e=t),t instanceof HTMLElement&&(a=t),a!=null)if(a.hasAttribute("data-copy-text"))e=a.getAttribute("data-copy-text");else{const o=a.tagName;o==="INPUT"||o==="TEXTAREA"?e=a.value:e=a.textContent}return e}async function M(t){const e=P(t);return e==null?Promise.resolve(!1):await E(e)===!1?k(e):Promise.resolve(!0)}const A={class:"source-code"},N=["innerHTML"],$=c({__name:"SourceCode",props:{lang:{default:"typescript"},code:{},showCopy:{type:Boolean,default:!0}},setup(t){const e=t;async function a(){await M(e.code.trim()),C.success("复制成功")}const o=y("");return h(()=>{o.value=window.Prism.highlight(e.code.trim(),window.Prism.languages[e.lang],e.lang)}),(s,V)=>(r(),_("div",A,[n("pre",{class:l(["nt-scrollbar","nt-scrollbar-x","language-"+s.lang])},[n("code",{class:l("language-"+s.lang),innerHTML:o.value},null,10,N)],2),s.showCopy?(r(),i(d,{key:0,type:"text",class:"code-bopy-btn",onClick:a},{default:u(()=>[g(w)]),_:1})):v("",!0)]))}});export{$ as _,w as a,M as c};
